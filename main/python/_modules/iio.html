<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>iio &#8212; libiio-py 1.0.g24ec0eb documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=12dfc556" />
    <script src="../_static/documentation_options.js?v=e62e02fd"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <h1>Source code for iio</h1><div class="highlight"><pre>
<span></span><span class="ch">#!/usr/bin/env python</span>
<span class="c1"># SPDX-License-Identifier: LGPL-2.1-or-later</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">SPDX-License-Identifier: LGPL-2.1-or-later</span>

<span class="sd">Copyright (C) 2014 Analog Devices, Inc.</span>
<span class="sd">Author: Paul Cercueil &lt;paul.cercueil@analog.com&gt;</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="c1"># Imports from package ctypes are not grouped</span>
<span class="c1"># pylint: disable=ungrouped-imports</span>
<span class="c1">#</span>
<span class="c1"># The way the methods and classes are used, violate this, but there</span>
<span class="c1">#   isn&#39;t a good way to do things otherwise</span>
<span class="c1"># pylint: disable=protected-access</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ctypes</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
    <span class="n">Structure</span><span class="p">,</span>
    <span class="n">c_char_p</span><span class="p">,</span>
    <span class="n">c_uint</span><span class="p">,</span>
    <span class="n">c_uint64</span><span class="p">,</span>
    <span class="n">c_int</span><span class="p">,</span>
    <span class="n">c_int64</span><span class="p">,</span>
    <span class="n">c_long</span><span class="p">,</span>
    <span class="n">c_longlong</span><span class="p">,</span>
    <span class="n">c_size_t</span><span class="p">,</span>
    <span class="n">c_ssize_t</span><span class="p">,</span>
    <span class="n">c_char</span><span class="p">,</span>
    <span class="n">c_void_p</span><span class="p">,</span>
    <span class="n">c_bool</span><span class="p">,</span>
    <span class="n">create_string_buffer</span><span class="p">,</span>
    <span class="n">c_double</span><span class="p">,</span>
    <span class="n">cast</span><span class="p">,</span>
    <span class="n">sizeof</span><span class="p">,</span>
    <span class="n">string_at</span><span class="p">,</span>
    <span class="n">POINTER</span> <span class="k">as</span> <span class="n">_POINTER</span><span class="p">,</span>
    <span class="n">CDLL</span> <span class="k">as</span> <span class="n">_cdll</span><span class="p">,</span>
    <span class="n">memmove</span> <span class="k">as</span> <span class="n">_memmove</span><span class="p">,</span>
    <span class="n">byref</span> <span class="k">as</span> <span class="n">_byref</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">contextlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">contextmanager</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ctypes.util</span><span class="w"> </span><span class="kn">import</span> <span class="n">find_library</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">enum</span><span class="w"> </span><span class="kn">import</span> <span class="n">Enum</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">os</span><span class="w"> </span><span class="kn">import</span> <span class="n">strerror</span> <span class="k">as</span> <span class="n">_strerror</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">platform</span><span class="w"> </span><span class="kn">import</span> <span class="n">system</span> <span class="k">as</span> <span class="n">_system</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">abc</span>

<span class="k">if</span> <span class="s2">&quot;Windows&quot;</span> <span class="ow">in</span> <span class="n">_system</span><span class="p">():</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">ctypes</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_last_error</span>
<span class="k">else</span><span class="p">:</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">ctypes</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_errno</span>
<span class="c1"># pylint: enable=ungrouped-imports</span>

<span class="c1"># ctypes requires the errcheck to take three arguments, but we don&#39;t use them</span>
<span class="c1"># pylint: disable=unused-argument</span>


<span class="k">def</span><span class="w"> </span><span class="nf">_check_null</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="n">arguments</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">result</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">result</span>
    <span class="n">err</span> <span class="o">=</span> <span class="n">get_last_error</span><span class="p">()</span> <span class="k">if</span> <span class="s2">&quot;Windows&quot;</span> <span class="ow">in</span> <span class="n">_system</span><span class="p">()</span> <span class="k">else</span> <span class="n">get_errno</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>  <span class="c1"># The fail reason is known so raise an exception</span>
        <span class="k">raise</span> <span class="ne">OSError</span><span class="p">(</span><span class="n">err</span><span class="p">,</span> <span class="n">_strerror</span><span class="p">(</span><span class="n">err</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">result</span>


<span class="k">def</span><span class="w"> </span><span class="nf">_check_negative</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="n">arguments</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">result</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">result</span>
    <span class="k">raise</span> <span class="ne">OSError</span><span class="p">(</span><span class="o">-</span><span class="n">result</span><span class="p">,</span> <span class="n">_strerror</span><span class="p">(</span><span class="o">-</span><span class="n">result</span><span class="p">))</span>


<span class="k">def</span><span class="w"> </span><span class="nf">_check_ptr_err</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="n">arguments</span><span class="p">):</span>
    <span class="n">value</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">c_void_p</span><span class="p">)</span><span class="o">.</span><span class="n">value</span>
    <span class="n">value</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">**</span> <span class="p">(</span><span class="mi">8</span> <span class="o">*</span> <span class="n">sizeof</span><span class="p">(</span><span class="n">c_void_p</span><span class="p">))</span> <span class="o">-</span> <span class="n">value</span>

    <span class="k">if</span> <span class="n">value</span> <span class="o">&lt;</span> <span class="mi">4096</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">OSError</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">_strerror</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">result</span>


<span class="c1"># pylint: enable=unused-argument</span>

<span class="c1"># Python 2 and Python 3 compatible _isstring function.</span>
<span class="c1"># pylint: disable=basestring-builtin</span>
<span class="k">def</span><span class="w"> </span><span class="nf">_isstring</span><span class="p">(</span><span class="n">argument</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># attempt to evaluate basestring (Python 2)</span>
        <span class="k">return</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">argument</span><span class="p">,</span> <span class="n">basestring</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">NameError</span><span class="p">:</span>
        <span class="c1"># No basestring --&gt; Python 3</span>
        <span class="k">return</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">argument</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span>


<span class="c1"># pylint: enable=basestring-builtin</span>


<span class="k">class</span><span class="w"> </span><span class="nc">_Scan</span><span class="p">(</span><span class="n">Structure</span><span class="p">):</span>
    <span class="k">pass</span>


<span class="k">class</span><span class="w"> </span><span class="nc">_Context</span><span class="p">(</span><span class="n">Structure</span><span class="p">):</span>
    <span class="k">pass</span>


<span class="k">class</span><span class="w"> </span><span class="nc">_Device</span><span class="p">(</span><span class="n">Structure</span><span class="p">):</span>
    <span class="k">pass</span>


<span class="k">class</span><span class="w"> </span><span class="nc">_Channel</span><span class="p">(</span><span class="n">Structure</span><span class="p">):</span>
    <span class="k">pass</span>


<span class="k">class</span><span class="w"> </span><span class="nc">_ChannelsMask</span><span class="p">(</span><span class="n">Structure</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="k">class</span><span class="w"> </span><span class="nc">_EventStream</span><span class="p">(</span><span class="n">Structure</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="k">class</span><span class="w"> </span><span class="nc">_Buffer</span><span class="p">(</span><span class="n">Structure</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="k">class</span><span class="w"> </span><span class="nc">_Block</span><span class="p">(</span><span class="n">Structure</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="k">class</span><span class="w"> </span><span class="nc">_Stream</span><span class="p">(</span><span class="n">Structure</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="k">class</span><span class="w"> </span><span class="nc">_Attr</span><span class="p">(</span><span class="n">Structure</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="k">class</span><span class="w"> </span><span class="nc">ContextParams</span><span class="p">(</span><span class="n">Structure</span><span class="p">):</span>
    <span class="k">pass</span> <span class="c1"># TODO</span>

<span class="k">class</span><span class="w"> </span><span class="nc">BufferParams</span><span class="p">(</span><span class="n">Structure</span><span class="p">):</span>
    <span class="k">pass</span> <span class="c1"># TODO</span>

<div class="viewcode-block" id="DataFormat">
<a class="viewcode-back" href="../channel.html#iio.DataFormat">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">DataFormat</span><span class="p">(</span><span class="n">Structure</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Represents the data format of an IIO channel.&quot;&quot;&quot;</span>

    <span class="n">_fields_</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">(</span><span class="s2">&quot;length&quot;</span><span class="p">,</span> <span class="n">c_uint</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;bits&quot;</span><span class="p">,</span> <span class="n">c_uint</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;shift&quot;</span><span class="p">,</span> <span class="n">c_uint</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;is_signed&quot;</span><span class="p">,</span> <span class="n">c_bool</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;is_fully_defined&quot;</span><span class="p">,</span> <span class="n">c_bool</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;is_be&quot;</span><span class="p">,</span> <span class="n">c_bool</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;with_scale&quot;</span><span class="p">,</span> <span class="n">c_bool</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;scale&quot;</span><span class="p">,</span> <span class="n">c_double</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;repeat&quot;</span><span class="p">,</span> <span class="n">c_uint</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;offset&quot;</span><span class="p">,</span> <span class="n">c_double</span><span class="p">),</span>
    <span class="p">]</span></div>


<span class="k">class</span><span class="w"> </span><span class="nc">EventType</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Represents the type of an IIO event.&quot;&quot;&quot;</span>

    <span class="n">IIO_EV_TYPE_THRESH</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">IIO_EV_TYPE_MAG</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">IIO_EV_TYPE_ROC</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">IIO_EV_TYPE_THRESH_ADAPTIVE</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">IIO_EV_TYPE_MAG_ADAPTIVE</span> <span class="o">=</span> <span class="mi">4</span>
    <span class="n">IIO_EV_TYPE_CHANGE</span> <span class="o">=</span> <span class="mi">5</span>
    <span class="n">IIO_EV_TYPE_MAG_REFERENCED</span> <span class="o">=</span> <span class="mi">6</span>
    <span class="n">IIO_EV_TYPE_GESTURE</span> <span class="o">=</span> <span class="mi">7</span>
    <span class="n">IIO_EV_TYPE_FAULT</span> <span class="o">=</span> <span class="mi">8</span>

<span class="k">class</span><span class="w"> </span><span class="nc">EventDirection</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Represents the direction of an IIO event.&quot;&quot;&quot;</span>

    <span class="n">IIO_EV_DIR_EITHER</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">IIO_EV_DIR_RISING</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">IIO_EV_DIR_FALLING</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">IIO_EV_DIR_NONE</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">IIO_EV_DIR_SINGLETAP</span> <span class="o">=</span> <span class="mi">4</span>
    <span class="n">IIO_EV_DIR_DOUBLETAP</span> <span class="o">=</span> <span class="mi">5</span>
    <span class="n">IIO_EV_DIR_FAULT_OPENWIRE</span> <span class="o">=</span> <span class="mi">6</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Event</span><span class="p">(</span><span class="n">Structure</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Represents an IIO event.&quot;&quot;&quot;</span>

    <span class="n">_fields_</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="n">c_uint64</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;timestamp&#39;</span><span class="p">,</span> <span class="n">c_int64</span><span class="p">)]</span>

    <span class="nb">type</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span>
        <span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="n">EventType</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">&gt;&gt;</span> <span class="mi">56</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xff</span><span class="p">),</span>
        <span class="kc">None</span><span class="p">,</span>
        <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;The type of the IIO event.</span><span class="se">\n\t</span><span class="s2">type=iio.EventType(Enum)&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">direction</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span>
        <span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="n">EventDirection</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">&gt;&gt;</span> <span class="mi">48</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x7f</span><span class="p">),</span>
        <span class="kc">None</span><span class="p">,</span>
        <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;The direction of the IIO event.</span><span class="se">\n\t</span><span class="s2">type=iio.EventDirection(Enum)&quot;</span><span class="p">,</span>
    <span class="p">)</span>


<div class="viewcode-block" id="ChannelModifier">
<a class="viewcode-back" href="../channel.html#iio.ChannelModifier">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">ChannelModifier</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Contains the modifier type of an IIO channel.&quot;&quot;&quot;</span>

    <span class="n">IIO_NO_MOD</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">IIO_MOD_X</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">IIO_MOD_Y</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">IIO_MOD_Z</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">IIO_MOD_X_AND_Y</span> <span class="o">=</span> <span class="mi">4</span>
    <span class="n">IIO_MOD_X_AND_Z</span> <span class="o">=</span> <span class="mi">5</span>
    <span class="n">IIO_MOD_Y_AND_Z</span> <span class="o">=</span> <span class="mi">6</span>
    <span class="n">IIO_MOD_X_AND_Y_AND_Z</span> <span class="o">=</span> <span class="mi">7</span>
    <span class="n">IIO_MOD_X_OR_Y</span> <span class="o">=</span> <span class="mi">8</span>
    <span class="n">IIO_MOD_X_OR_Z</span> <span class="o">=</span> <span class="mi">9</span>
    <span class="n">IIO_MOD_Y_OR_Z</span> <span class="o">=</span> <span class="mi">10</span>
    <span class="n">IIO_MOD_X_OR_Y_OR_Z</span> <span class="o">=</span> <span class="mi">11</span>
    <span class="n">IIO_MOD_LIGHT_BOTH</span> <span class="o">=</span> <span class="mi">12</span>
    <span class="n">IIO_MOD_LIGHT_IR</span> <span class="o">=</span> <span class="mi">13</span>
    <span class="n">IIO_MOD_ROOT_SUM_SQUARED_X_Y</span> <span class="o">=</span> <span class="mi">14</span>
    <span class="n">IIO_MOD_SUM_SQUARED_X_Y_Z</span> <span class="o">=</span> <span class="mi">15</span>
    <span class="n">IIO_MOD_LIGHT_CLEAR</span> <span class="o">=</span> <span class="mi">16</span>
    <span class="n">IIO_MOD_LIGHT_RED</span> <span class="o">=</span> <span class="mi">17</span>
    <span class="n">IIO_MOD_LIGHT_GREEN</span> <span class="o">=</span> <span class="mi">18</span>
    <span class="n">IIO_MOD_LIGHT_BLUE</span> <span class="o">=</span> <span class="mi">19</span>
    <span class="n">IIO_MOD_QUATERNION</span> <span class="o">=</span> <span class="mi">20</span>
    <span class="n">IIO_MOD_TEMP_AMBIENT</span> <span class="o">=</span> <span class="mi">21</span>
    <span class="n">IIO_MOD_TEMP_OBJECT</span> <span class="o">=</span> <span class="mi">22</span>
    <span class="n">IIO_MOD_NORTH_MAGN</span> <span class="o">=</span> <span class="mi">23</span>
    <span class="n">IIO_MOD_NORTH_TRUE</span> <span class="o">=</span> <span class="mi">24</span>
    <span class="n">IIO_MOD_NORTH_MAGN_TILT_COMP</span> <span class="o">=</span> <span class="mi">25</span>
    <span class="n">IIO_MOD_NORTH_TRUE_TILT_COMP</span> <span class="o">=</span> <span class="mi">26</span>
    <span class="n">IIO_MOD_RUNNING</span> <span class="o">=</span> <span class="mi">27</span>
    <span class="n">IIO_MOD_JOGGING</span> <span class="o">=</span> <span class="mi">28</span>
    <span class="n">IIO_MOD_WALKING</span> <span class="o">=</span> <span class="mi">29</span>
    <span class="n">IIO_MOD_STILL</span> <span class="o">=</span> <span class="mi">30</span>
    <span class="n">IIO_MOD_ROOT_SUM_SQUARED_X_Y_Z</span> <span class="o">=</span> <span class="mi">31</span>
    <span class="n">IIO_MOD_I</span> <span class="o">=</span> <span class="mi">32</span>
    <span class="n">IIO_MOD_Q</span> <span class="o">=</span> <span class="mi">33</span>
    <span class="n">IIO_MOD_CO2</span> <span class="o">=</span> <span class="mi">34</span>
    <span class="n">IIO_MOD_VOC</span> <span class="o">=</span> <span class="mi">35</span>
    <span class="n">IIO_MOD_LIGHT_UV</span> <span class="o">=</span> <span class="mi">36</span>
    <span class="n">IIO_MOD_LIGHT_DUV</span> <span class="o">=</span> <span class="mi">37</span>
    <span class="n">IIO_MOD_PM1</span> <span class="o">=</span> <span class="mi">38</span>
    <span class="n">IIO_MOD_PM2P5</span> <span class="o">=</span> <span class="mi">39</span>
    <span class="n">IIO_MOD_PM4</span> <span class="o">=</span> <span class="mi">40</span>
    <span class="n">IIO_MOD_PM10</span> <span class="o">=</span> <span class="mi">41</span>
    <span class="n">IIO_MOD_ETHANOL</span> <span class="o">=</span> <span class="mi">42</span>
    <span class="n">IIO_MOD_H2</span> <span class="o">=</span> <span class="mi">43</span>
    <span class="n">IIO_MOD_O2</span> <span class="o">=</span> <span class="mi">44</span>
    <span class="n">IIO_MOD_LINEAR_X</span> <span class="o">=</span> <span class="mi">45</span>
    <span class="n">IIO_MOD_LINEAR_Y</span> <span class="o">=</span> <span class="mi">46</span>
    <span class="n">IIO_MOD_LINEAR_Z</span> <span class="o">=</span> <span class="mi">47</span>
    <span class="n">IIO_MOD_PITCH</span> <span class="o">=</span> <span class="mi">48</span>
    <span class="n">IIO_MOD_YAW</span> <span class="o">=</span> <span class="mi">49</span>
    <span class="n">IIO_MOD_ROLL</span> <span class="o">=</span> <span class="mi">50</span>
    <span class="n">IIO_MOD_LIGHT_UVA</span> <span class="o">=</span> <span class="mi">51</span>
    <span class="n">IIO_MOD_LIGHT_UVB</span> <span class="o">=</span> <span class="mi">52</span>
    <span class="n">IIO_MOD_RMS</span> <span class="o">=</span> <span class="mi">53</span>
    <span class="n">IIO_MOD_ACTIVE</span> <span class="o">=</span> <span class="mi">54</span>
    <span class="n">IIO_MOD_REACTIVE</span> <span class="o">=</span> <span class="mi">55</span>
    <span class="n">IIO_MOD_APPARENT</span> <span class="o">=</span> <span class="mi">56</span></div>



<div class="viewcode-block" id="ChannelType">
<a class="viewcode-back" href="../channel.html#iio.ChannelType">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">ChannelType</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Contains the type of an IIO channel.&quot;&quot;&quot;</span>

    <span class="n">IIO_VOLTAGE</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">IIO_CURRENT</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">IIO_POWER</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">IIO_ACCEL</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">IIO_ANGL_VEL</span> <span class="o">=</span> <span class="mi">4</span>
    <span class="n">IIO_MAGN</span> <span class="o">=</span> <span class="mi">5</span>
    <span class="n">IIO_LIGHT</span> <span class="o">=</span> <span class="mi">6</span>
    <span class="n">IIO_INTENSITY</span> <span class="o">=</span> <span class="mi">7</span>
    <span class="n">IIO_PROXIMITY</span> <span class="o">=</span> <span class="mi">8</span>
    <span class="n">IIO_TEMP</span> <span class="o">=</span> <span class="mi">9</span>
    <span class="n">IIO_INCLI</span> <span class="o">=</span> <span class="mi">10</span>
    <span class="n">IIO_ROT</span> <span class="o">=</span> <span class="mi">11</span>
    <span class="n">IIO_ANGL</span> <span class="o">=</span> <span class="mi">12</span>
    <span class="n">IIO_TIMESTAMP</span> <span class="o">=</span> <span class="mi">13</span>
    <span class="n">IIO_CAPACITANCE</span> <span class="o">=</span> <span class="mi">14</span>
    <span class="n">IIO_ALTVOLTAGE</span> <span class="o">=</span> <span class="mi">15</span>
    <span class="n">IIO_CCT</span> <span class="o">=</span> <span class="mi">16</span>
    <span class="n">IIO_PRESSURE</span> <span class="o">=</span> <span class="mi">17</span>
    <span class="n">IIO_HUMIDITYRELATIVE</span> <span class="o">=</span> <span class="mi">18</span>
    <span class="n">IIO_ACTIVITY</span> <span class="o">=</span> <span class="mi">19</span>
    <span class="n">IIO_STEPS</span> <span class="o">=</span> <span class="mi">20</span>
    <span class="n">IIO_ENERGY</span> <span class="o">=</span> <span class="mi">21</span>
    <span class="n">IIO_DISTANCE</span> <span class="o">=</span> <span class="mi">22</span>
    <span class="n">IIO_VELOCITY</span> <span class="o">=</span> <span class="mi">23</span>
    <span class="n">IIO_CONCENTRATION</span> <span class="o">=</span> <span class="mi">24</span>
    <span class="n">IIO_RESISTANCE</span> <span class="o">=</span> <span class="mi">25</span>
    <span class="n">IIO_PH</span> <span class="o">=</span> <span class="mi">26</span>
    <span class="n">IIO_UVINDEX</span> <span class="o">=</span> <span class="mi">27</span>
    <span class="n">IIO_ELECTRICALCONDUCTIVITY</span> <span class="o">=</span> <span class="mi">28</span>
    <span class="n">IIO_COUNT</span> <span class="o">=</span> <span class="mi">29</span>
    <span class="n">IIO_INDEX</span> <span class="o">=</span> <span class="mi">30</span>
    <span class="n">IIO_GRAVITY</span> <span class="o">=</span> <span class="mi">31</span>
    <span class="n">IIO_POSITIONRELATIVE</span> <span class="o">=</span> <span class="mi">32</span>
    <span class="n">IIO_PHASE</span> <span class="o">=</span> <span class="mi">33</span>
    <span class="n">IIO_MASSCONCENTRATION</span> <span class="o">=</span> <span class="mi">34</span>
    <span class="n">IIO_DELTA_ANGL</span> <span class="o">=</span> <span class="mi">35</span>
    <span class="n">IIO_DELTA_VELOCITY</span> <span class="o">=</span> <span class="mi">36</span>
    <span class="n">IIO_COLORTEMP</span> <span class="o">=</span> <span class="mi">37</span>
    <span class="n">IIO_CHROMATICITY</span> <span class="o">=</span> <span class="mi">38</span>
    <span class="n">IIO_ATTENTION</span> <span class="o">=</span> <span class="mi">39</span>
    <span class="n">IIO_ALTCURRENT</span> <span class="o">=</span> <span class="mi">40</span>
    <span class="n">IIO_CHAN_TYPE_UNKNOWN</span> <span class="o">=</span> <span class="mh">0x7FFFFFFF</span></div>



<span class="c1"># pylint: disable=invalid-name</span>
<span class="n">_ScanPtr</span> <span class="o">=</span> <span class="n">_POINTER</span><span class="p">(</span><span class="n">_Scan</span><span class="p">)</span>
<span class="n">_ContextPtr</span> <span class="o">=</span> <span class="n">_POINTER</span><span class="p">(</span><span class="n">_Context</span><span class="p">)</span>
<span class="n">_DevicePtr</span> <span class="o">=</span> <span class="n">_POINTER</span><span class="p">(</span><span class="n">_Device</span><span class="p">)</span>
<span class="n">_ChannelPtr</span> <span class="o">=</span> <span class="n">_POINTER</span><span class="p">(</span><span class="n">_Channel</span><span class="p">)</span>
<span class="n">_ChannelsMaskPtr</span> <span class="o">=</span> <span class="n">_POINTER</span><span class="p">(</span><span class="n">_ChannelsMask</span><span class="p">)</span>
<span class="n">_EventPtr</span> <span class="o">=</span> <span class="n">_POINTER</span><span class="p">(</span><span class="n">Event</span><span class="p">)</span>
<span class="n">_EventStreamPtr</span> <span class="o">=</span> <span class="n">_POINTER</span><span class="p">(</span><span class="n">_EventStream</span><span class="p">)</span>
<span class="n">_BufferPtr</span> <span class="o">=</span> <span class="n">_POINTER</span><span class="p">(</span><span class="n">_Buffer</span><span class="p">)</span>
<span class="n">_BlockPtr</span> <span class="o">=</span> <span class="n">_POINTER</span><span class="p">(</span><span class="n">_Block</span><span class="p">)</span>
<span class="n">_DataFormatPtr</span> <span class="o">=</span> <span class="n">_POINTER</span><span class="p">(</span><span class="n">DataFormat</span><span class="p">)</span>
<span class="n">_ContextParamsPtr</span> <span class="o">=</span> <span class="n">_POINTER</span><span class="p">(</span><span class="n">ContextParams</span><span class="p">)</span>
<span class="n">_BufferParamsPtr</span> <span class="o">=</span> <span class="n">_POINTER</span><span class="p">(</span><span class="n">BufferParams</span><span class="p">)</span>
<span class="n">_StreamPtr</span> <span class="o">=</span> <span class="n">_POINTER</span><span class="p">(</span><span class="n">_Stream</span><span class="p">)</span>
<span class="n">_AttrPtr</span> <span class="o">=</span> <span class="n">_POINTER</span><span class="p">(</span><span class="n">_Attr</span><span class="p">)</span>

<span class="k">if</span> <span class="s2">&quot;Windows&quot;</span> <span class="ow">in</span> <span class="n">_system</span><span class="p">():</span>
    <span class="n">_iiolib</span> <span class="o">=</span> <span class="s2">&quot;libiio.dll&quot;</span>
<span class="k">else</span><span class="p">:</span>
    <span class="c1"># Non-windows, possibly Posix system</span>
    <span class="n">_iiolib</span> <span class="o">=</span> <span class="s2">&quot;iio&quot;</span>

<span class="n">_lib</span> <span class="o">=</span> <span class="n">_cdll</span><span class="p">(</span><span class="s2">&quot;libiio.so.1&quot;</span><span class="p">,</span> <span class="n">use_errno</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">use_last_error</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">_libc</span> <span class="o">=</span> <span class="n">_cdll</span><span class="p">(</span><span class="n">find_library</span><span class="p">(</span><span class="s2">&quot;c&quot;</span><span class="p">))</span>

<span class="n">_get_backends_count</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_get_builtin_backends_count</span>
<span class="n">_get_backends_count</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c_uint</span>

<span class="n">_get_backend</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_get_builtin_backend</span>
<span class="n">_get_backend</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">c_uint</span><span class="p">,)</span>
<span class="n">_get_backend</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c_char_p</span>
<span class="n">_get_backend</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_check_null</span>

<span class="n">_scan</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_scan</span>
<span class="n">_scan</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_ContextParamsPtr</span><span class="p">,</span> <span class="n">c_char_p</span><span class="p">)</span>
<span class="n">_scan</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">_ScanPtr</span>
<span class="n">_scan</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_check_ptr_err</span>

<span class="n">_scan_destroy</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_scan_destroy</span>
<span class="n">_scan_destroy</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_ScanPtr</span><span class="p">,)</span>

<span class="n">_scan_get_results_count</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_scan_get_results_count</span>
<span class="n">_scan_get_results_count</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_ScanPtr</span><span class="p">,)</span>
<span class="n">_scan_get_results_count</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c_size_t</span>

<span class="n">_scan_get_description</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_scan_get_description</span>
<span class="n">_scan_get_description</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_ScanPtr</span><span class="p">,</span> <span class="n">c_size_t</span><span class="p">)</span>
<span class="n">_scan_get_description</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c_char_p</span>
<span class="n">_scan_get_description</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_check_null</span>

<span class="n">_scan_get_uri</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_scan_get_uri</span>
<span class="n">_scan_get_uri</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_ScanPtr</span><span class="p">,</span> <span class="n">c_size_t</span><span class="p">)</span>
<span class="n">_scan_get_uri</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c_char_p</span>
<span class="n">_scan_get_uri</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_check_null</span>

<span class="n">_iio_has_backend</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_has_backend</span>
<span class="n">_iio_has_backend</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">c_char_p</span><span class="p">,)</span>
<span class="n">_iio_has_backend</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c_bool</span>

<span class="n">_iio_strerror</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_strerror</span>
<span class="n">_iio_strerror</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">c_int</span><span class="p">,</span> <span class="n">c_char_p</span><span class="p">,</span> <span class="n">c_uint</span><span class="p">)</span>
<span class="n">_iio_strerror</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="kc">None</span>

<span class="n">_new_ctx</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_create_context</span>
<span class="n">_new_ctx</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">_ContextPtr</span>
<span class="n">_new_ctx</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_check_ptr_err</span>
<span class="n">_new_ctx</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_ContextParamsPtr</span><span class="p">,</span> <span class="n">c_char_p</span><span class="p">)</span>

<span class="n">_destroy</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_context_destroy</span>
<span class="n">_destroy</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_ContextPtr</span><span class="p">,)</span>

<span class="n">_get_name</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_context_get_name</span>
<span class="n">_get_name</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c_char_p</span>
<span class="n">_get_name</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_ContextPtr</span><span class="p">,)</span>
<span class="n">_get_name</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_check_null</span>

<span class="n">_get_description</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_context_get_description</span>
<span class="n">_get_description</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c_char_p</span>
<span class="n">_get_description</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_ContextPtr</span><span class="p">,)</span>

<span class="n">_get_xml</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_context_get_xml</span>
<span class="n">_get_xml</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c_void_p</span>
<span class="n">_get_xml</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_ContextPtr</span><span class="p">,)</span>

<span class="n">_get_version_major</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_context_get_version_major</span>
<span class="n">_get_version_major</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c_uint</span>
<span class="n">_get_version_major</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_ContextPtr</span><span class="p">,)</span>

<span class="n">_get_version_minor</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_context_get_version_minor</span>
<span class="n">_get_version_minor</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c_uint</span>
<span class="n">_get_version_minor</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_ContextPtr</span><span class="p">,)</span>

<span class="n">_get_version_tag</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_context_get_version_tag</span>
<span class="n">_get_version_tag</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c_char_p</span>
<span class="n">_get_version_tag</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_ContextPtr</span><span class="p">,)</span>

<span class="n">_get_attrs_count</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_context_get_attrs_count</span>
<span class="n">_get_attrs_count</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c_uint</span>
<span class="n">_get_attrs_count</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_ContextPtr</span><span class="p">,)</span>

<span class="n">_get_attr</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_context_get_attr</span>
<span class="n">_get_attr</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">_AttrPtr</span>
<span class="n">_get_attr</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_ContextPtr</span><span class="p">,</span> <span class="n">c_uint</span><span class="p">)</span>
<span class="n">_get_attr</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_check_null</span>

<span class="n">_devices_count</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_context_get_devices_count</span>
<span class="n">_devices_count</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c_uint</span>
<span class="n">_devices_count</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_ContextPtr</span><span class="p">,)</span>

<span class="n">_get_device</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_context_get_device</span>
<span class="n">_get_device</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">_DevicePtr</span>
<span class="n">_get_device</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_ContextPtr</span><span class="p">,</span> <span class="n">c_uint</span><span class="p">)</span>
<span class="n">_get_device</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_check_null</span>

<span class="n">_find_device</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_context_find_device</span>
<span class="n">_find_device</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">_DevicePtr</span>
<span class="n">_find_device</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_ContextPtr</span><span class="p">,</span> <span class="n">c_char_p</span><span class="p">)</span>
<span class="n">_find_device</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_check_null</span>

<span class="n">_set_timeout</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_context_set_timeout</span>
<span class="n">_set_timeout</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c_int</span>
<span class="n">_set_timeout</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">_ContextPtr</span><span class="p">,</span>
    <span class="n">c_uint</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">_set_timeout</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_check_negative</span>

<span class="n">_a_get_name</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_attr_get_name</span>
<span class="n">_a_get_name</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c_char_p</span>
<span class="n">_a_get_name</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_AttrPtr</span><span class="p">,)</span>

<span class="n">_a_get_fname</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_attr_get_filename</span>
<span class="n">_a_get_fname</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c_char_p</span>
<span class="n">_a_get_fname</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_AttrPtr</span><span class="p">,)</span>

<span class="n">_a_get_value</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_attr_get_static_value</span>
<span class="n">_a_get_value</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c_char_p</span>
<span class="n">_a_get_value</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_AttrPtr</span><span class="p">,)</span>
<span class="n">_a_get_value</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_check_null</span>

<span class="n">_a_read</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_attr_read_raw</span>
<span class="n">_a_read</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c_ssize_t</span>
<span class="n">_a_read</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_AttrPtr</span><span class="p">,</span> <span class="n">c_char_p</span><span class="p">,</span> <span class="n">c_size_t</span><span class="p">)</span>
<span class="n">_a_read</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_check_negative</span>

<span class="n">_a_write</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_attr_write_string</span>
<span class="n">_a_write</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c_ssize_t</span>
<span class="n">_a_write</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_AttrPtr</span><span class="p">,</span> <span class="n">c_char_p</span><span class="p">)</span>
<span class="n">_a_write</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_check_negative</span>

<span class="n">_d_get_id</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_device_get_id</span>
<span class="n">_d_get_id</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c_char_p</span>
<span class="n">_d_get_id</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_DevicePtr</span><span class="p">,)</span>
<span class="n">_d_get_id</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_check_null</span>

<span class="n">_d_get_name</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_device_get_name</span>
<span class="n">_d_get_name</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c_char_p</span>
<span class="n">_d_get_name</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_DevicePtr</span><span class="p">,)</span>

<span class="n">_d_get_label</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_device_get_label</span>
<span class="n">_d_get_label</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c_char_p</span>
<span class="n">_d_get_label</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_DevicePtr</span><span class="p">,)</span>

<span class="n">_d_attr_count</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_device_get_attrs_count</span>
<span class="n">_d_attr_count</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c_uint</span>
<span class="n">_d_attr_count</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_DevicePtr</span><span class="p">,)</span>

<span class="n">_d_get_attr</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_device_get_attr</span>
<span class="n">_d_get_attr</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">_AttrPtr</span>
<span class="n">_d_get_attr</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_DevicePtr</span><span class="p">,</span> <span class="n">c_uint</span><span class="p">)</span>
<span class="n">_d_get_attr</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_check_null</span>

<span class="n">_d_create_evstream</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_device_create_event_stream</span>
<span class="n">_d_create_evstream</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">_EventStreamPtr</span>
<span class="n">_d_create_evstream</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_DevicePtr</span><span class="p">,)</span>
<span class="n">_d_create_evstream</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_check_ptr_err</span>

<span class="n">_d_debug_attr_count</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_device_get_debug_attrs_count</span>
<span class="n">_d_debug_attr_count</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c_uint</span>
<span class="n">_d_debug_attr_count</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_DevicePtr</span><span class="p">,)</span>

<span class="n">_d_get_debug_attr</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_device_get_debug_attr</span>
<span class="n">_d_get_debug_attr</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">_AttrPtr</span>
<span class="n">_d_get_debug_attr</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_DevicePtr</span><span class="p">,</span> <span class="n">c_uint</span><span class="p">)</span>
<span class="n">_d_get_debug_attr</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_check_null</span>

<span class="n">_b_attr_count</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_buffer_get_attrs_count</span>
<span class="n">_b_attr_count</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c_uint</span>
<span class="n">_b_attr_count</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_BufferPtr</span><span class="p">,)</span>

<span class="n">_b_get_attr</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_buffer_get_attr</span>
<span class="n">_b_get_attr</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">_AttrPtr</span>
<span class="n">_b_get_attr</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_BufferPtr</span><span class="p">,</span> <span class="n">c_uint</span><span class="p">)</span>
<span class="n">_b_get_attr</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_check_null</span>

<span class="n">_d_get_context</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_device_get_context</span>
<span class="n">_d_get_context</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">_ContextPtr</span>
<span class="n">_d_get_context</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_DevicePtr</span><span class="p">,)</span>

<span class="n">_d_find_channel</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_device_find_channel</span>
<span class="n">_d_find_channel</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">_ChannelPtr</span>
<span class="n">_d_find_channel</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_DevicePtr</span><span class="p">,</span> <span class="n">c_char_p</span><span class="p">,</span> <span class="n">c_bool</span><span class="p">)</span>
<span class="n">_d_find_channel</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_check_null</span>

<span class="n">_d_reg_write</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_device_reg_write</span>
<span class="n">_d_reg_write</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c_int</span>
<span class="n">_d_reg_write</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_DevicePtr</span><span class="p">,</span> <span class="n">c_uint</span><span class="p">,</span> <span class="n">c_uint</span><span class="p">)</span>
<span class="n">_d_reg_write</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_check_negative</span>

<span class="n">_d_reg_read</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_device_reg_read</span>
<span class="n">_d_reg_read</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c_int</span>
<span class="n">_d_reg_read</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_DevicePtr</span><span class="p">,</span> <span class="n">c_uint</span><span class="p">,</span> <span class="n">_POINTER</span><span class="p">(</span><span class="n">c_uint</span><span class="p">))</span>
<span class="n">_d_reg_read</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_check_negative</span>

<span class="n">_channels_count</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_device_get_channels_count</span>
<span class="n">_channels_count</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c_uint</span>
<span class="n">_channels_count</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_DevicePtr</span><span class="p">,)</span>

<span class="n">_get_channel</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_device_get_channel</span>
<span class="n">_get_channel</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">_ChannelPtr</span>
<span class="n">_get_channel</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_DevicePtr</span><span class="p">,</span> <span class="n">c_uint</span><span class="p">)</span>
<span class="n">_get_channel</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_check_null</span>

<span class="n">_get_sample_size</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_device_get_sample_size</span>
<span class="n">_get_sample_size</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c_int</span>
<span class="n">_get_sample_size</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_DevicePtr</span><span class="p">,</span> <span class="n">_ChannelsMaskPtr</span><span class="p">)</span>
<span class="n">_get_sample_size</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_check_negative</span>

<span class="n">_d_is_trigger</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_device_is_trigger</span>
<span class="n">_d_is_trigger</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c_bool</span>
<span class="n">_d_is_trigger</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_DevicePtr</span><span class="p">,)</span>

<span class="n">_d_get_trigger</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_device_get_trigger</span>
<span class="n">_d_get_trigger</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c_int</span>
<span class="n">_d_get_trigger</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">_DevicePtr</span><span class="p">,</span>
    <span class="n">_POINTER</span><span class="p">(</span><span class="n">_DevicePtr</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">_d_get_trigger</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_check_negative</span>

<span class="n">_d_set_trigger</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_device_set_trigger</span>
<span class="n">_d_set_trigger</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c_int</span>
<span class="n">_d_set_trigger</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">_DevicePtr</span><span class="p">,</span>
    <span class="n">_DevicePtr</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">_d_set_trigger</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_check_negative</span>

<span class="n">_c_get_id</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_channel_get_id</span>
<span class="n">_c_get_id</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c_char_p</span>
<span class="n">_c_get_id</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_ChannelPtr</span><span class="p">,)</span>
<span class="n">_c_get_id</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_check_null</span>

<span class="n">_c_get_name</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_channel_get_name</span>
<span class="n">_c_get_name</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c_char_p</span>
<span class="n">_c_get_name</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_ChannelPtr</span><span class="p">,)</span>

<span class="n">_c_get_label</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_channel_get_label</span>
<span class="n">_c_get_label</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c_char_p</span>
<span class="n">_c_get_label</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_ChannelPtr</span><span class="p">,)</span>

<span class="n">_c_is_output</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_channel_is_output</span>
<span class="n">_c_is_output</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c_bool</span>
<span class="n">_c_is_output</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_ChannelPtr</span><span class="p">,)</span>

<span class="n">_c_is_scan_element</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_channel_is_scan_element</span>
<span class="n">_c_is_scan_element</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c_bool</span>
<span class="n">_c_is_scan_element</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_ChannelPtr</span><span class="p">,)</span>

<span class="n">_c_attr_count</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_channel_get_attrs_count</span>
<span class="n">_c_attr_count</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c_uint</span>
<span class="n">_c_attr_count</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_ChannelPtr</span><span class="p">,)</span>

<span class="n">_c_get_attr</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_channel_get_attr</span>
<span class="n">_c_get_attr</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">_AttrPtr</span>
<span class="n">_c_get_attr</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_ChannelPtr</span><span class="p">,</span> <span class="n">c_uint</span><span class="p">)</span>
<span class="n">_c_get_attr</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_check_null</span>

<span class="n">_create_channels_mask</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_create_channels_mask</span>
<span class="n">_create_channels_mask</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">c_uint</span><span class="p">,)</span>
<span class="n">_create_channels_mask</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">_ChannelsMaskPtr</span>
<span class="n">_create_channels_mask</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_check_null</span>

<span class="n">_channels_mask_destroy</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_channels_mask_destroy</span>
<span class="n">_channels_mask_destroy</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_ChannelsMaskPtr</span><span class="p">,)</span>

<span class="n">_c_enable</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_channel_enable</span>
<span class="n">_c_enable</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_ChannelPtr</span><span class="p">,</span> <span class="n">_ChannelsMaskPtr</span><span class="p">)</span>

<span class="n">_c_disable</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_channel_disable</span>
<span class="n">_c_disable</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_ChannelPtr</span><span class="p">,</span> <span class="n">_ChannelsMaskPtr</span><span class="p">)</span>

<span class="n">_c_is_enabled</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_channel_is_enabled</span>
<span class="n">_c_is_enabled</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c_bool</span>
<span class="n">_c_is_enabled</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_ChannelPtr</span><span class="p">,)</span>

<span class="n">_c_read</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_channel_read</span>
<span class="n">_c_read</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c_ssize_t</span>
<span class="n">_c_read</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">_ChannelPtr</span><span class="p">,</span>
    <span class="n">_BlockPtr</span><span class="p">,</span>
    <span class="n">c_void_p</span><span class="p">,</span>
    <span class="n">c_size_t</span><span class="p">,</span>
    <span class="n">c_bool</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">_c_write</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_channel_write</span>
<span class="n">_c_write</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c_ssize_t</span>
<span class="n">_c_write</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">_ChannelPtr</span><span class="p">,</span>
    <span class="n">_BlockPtr</span><span class="p">,</span>
    <span class="n">c_void_p</span><span class="p">,</span>
    <span class="n">c_size_t</span><span class="p">,</span>
    <span class="n">c_bool</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">_channel_get_device</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_channel_get_device</span>
<span class="n">_channel_get_device</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">_DevicePtr</span>
<span class="n">_channel_get_device</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_ChannelPtr</span><span class="p">,)</span>

<span class="n">_channel_get_index</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_channel_get_index</span>
<span class="n">_channel_get_index</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c_long</span>
<span class="n">_channel_get_index</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_ChannelPtr</span><span class="p">,)</span>

<span class="n">_channel_get_data_format</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_channel_get_data_format</span>
<span class="n">_channel_get_data_format</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">_DataFormatPtr</span>
<span class="n">_channel_get_data_format</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_ChannelPtr</span><span class="p">,)</span>

<span class="n">_channel_get_modifier</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_channel_get_modifier</span>
<span class="n">_channel_get_modifier</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c_int</span>
<span class="n">_channel_get_modifier</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_ChannelPtr</span><span class="p">,)</span>

<span class="n">_channel_get_type</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_channel_get_type</span>
<span class="n">_channel_get_type</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c_int</span>
<span class="n">_channel_get_type</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_ChannelPtr</span><span class="p">,)</span>

<span class="n">_create_buffer</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_device_create_buffer</span>
<span class="n">_create_buffer</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">_BufferPtr</span>
<span class="n">_create_buffer</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">_DevicePtr</span><span class="p">,</span>
    <span class="n">_BufferParamsPtr</span><span class="p">,</span>
    <span class="n">_ChannelsMaskPtr</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">_create_buffer</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_check_ptr_err</span>

<span class="n">_buffer_destroy</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_buffer_destroy</span>
<span class="n">_buffer_destroy</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_BufferPtr</span><span class="p">,)</span>

<span class="n">_buffer_enable</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_buffer_enable</span>
<span class="n">_buffer_enable</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c_int</span>
<span class="n">_buffer_enable</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_BufferPtr</span><span class="p">,)</span>
<span class="n">_buffer_enable</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_check_negative</span>

<span class="n">_buffer_disable</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_buffer_disable</span>
<span class="n">_buffer_disable</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c_int</span>
<span class="n">_buffer_disable</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_BufferPtr</span><span class="p">,)</span>

<span class="n">_block_start</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_block_start</span>
<span class="n">_block_start</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c_void_p</span>
<span class="n">_block_start</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_BlockPtr</span><span class="p">,)</span>

<span class="n">_block_end</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_block_end</span>
<span class="n">_block_end</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c_void_p</span>
<span class="n">_block_end</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_BlockPtr</span><span class="p">,)</span>

<span class="n">_block_get_buffer</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_block_get_buffer</span>
<span class="n">_block_get_buffer</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">_BufferPtr</span>
<span class="n">_block_get_buffer</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_BlockPtr</span><span class="p">,)</span>

<span class="n">_buffer_cancel</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_buffer_cancel</span>
<span class="n">_buffer_cancel</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c_void_p</span>
<span class="n">_buffer_cancel</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_BufferPtr</span><span class="p">,)</span>

<span class="n">_buffer_get_device</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_buffer_get_device</span>
<span class="n">_buffer_get_device</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">_DevicePtr</span>
<span class="n">_buffer_get_device</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_BufferPtr</span><span class="p">,)</span>

<span class="n">_buffer_get_channels_mask</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_buffer_get_channels_mask</span>
<span class="n">_buffer_get_channels_mask</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">_ChannelsMaskPtr</span>
<span class="n">_buffer_get_channels_mask</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_BufferPtr</span><span class="p">,)</span>

<span class="n">_create_block</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_buffer_create_block</span>
<span class="n">_create_block</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">_BlockPtr</span>
<span class="n">_create_block</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_BufferPtr</span><span class="p">,</span> <span class="n">c_size_t</span><span class="p">)</span>
<span class="n">_create_block</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_check_ptr_err</span>

<span class="n">_block_destroy</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_block_destroy</span>
<span class="n">_block_destroy</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_BlockPtr</span><span class="p">,)</span>

<span class="n">_block_enqueue</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_block_enqueue</span>
<span class="n">_block_enqueue</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c_int</span>
<span class="n">_block_enqueue</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_BlockPtr</span><span class="p">,</span> <span class="n">c_size_t</span><span class="p">,</span> <span class="n">c_bool</span><span class="p">)</span>
<span class="n">_block_enqueue</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_check_negative</span>

<span class="n">_block_dequeue</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_block_dequeue</span>
<span class="n">_block_dequeue</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c_int</span>
<span class="n">_block_dequeue</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_BlockPtr</span><span class="p">,</span> <span class="n">c_bool</span><span class="p">)</span>
<span class="n">_block_dequeue</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_check_negative</span>

<span class="n">_create_stream</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_buffer_create_stream</span>
<span class="n">_create_stream</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">_StreamPtr</span>
<span class="n">_create_stream</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_BufferPtr</span><span class="p">,</span> <span class="n">c_size_t</span><span class="p">,</span> <span class="n">c_size_t</span><span class="p">)</span>
<span class="n">_create_stream</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_check_ptr_err</span>

<span class="n">_stream_destroy</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_stream_destroy</span>
<span class="n">_stream_destroy</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_StreamPtr</span><span class="p">,)</span>

<span class="n">_stream_get_next_block</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_stream_get_next_block</span>
<span class="n">_stream_get_next_block</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">_BlockPtr</span>
<span class="n">_stream_get_next_block</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_StreamPtr</span><span class="p">,)</span>
<span class="n">_stream_get_next_block</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_check_ptr_err</span>

<span class="n">_evstream_destroy</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_event_stream_destroy</span>
<span class="n">_evstream_destroy</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_EventStreamPtr</span><span class="p">,)</span>

<span class="n">_evstream_read</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_event_stream_read</span>
<span class="n">_evstream_read</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c_int</span>
<span class="n">_evstream_read</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_EventStreamPtr</span><span class="p">,</span> <span class="n">_EventPtr</span><span class="p">,</span> <span class="n">c_bool</span><span class="p">)</span>
<span class="n">_evstream_read</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_check_negative</span>

<span class="n">_ev_get_channel</span> <span class="o">=</span> <span class="n">_lib</span><span class="o">.</span><span class="n">iio_event_get_channel</span>
<span class="n">_ev_get_channel</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">_ChannelPtr</span>
<span class="n">_ev_get_channel</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">_EventPtr</span><span class="p">,</span> <span class="n">_DevicePtr</span><span class="p">,</span> <span class="n">c_bool</span><span class="p">)</span>
<span class="n">_ev_get_channel</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_check_null</span>

<span class="n">_libc_free</span> <span class="o">=</span> <span class="n">_libc</span><span class="o">.</span><span class="n">free</span>
<span class="n">_libc_free</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="p">(</span><span class="n">c_void_p</span><span class="p">,)</span>

<span class="c1"># pylint: enable=invalid-name</span>


<span class="k">def</span><span class="w"> </span><span class="nf">_get_lib_version</span><span class="p">(</span><span class="n">ctx</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">_get_version_major</span><span class="p">(</span><span class="n">ctx</span><span class="p">),</span> <span class="n">_get_version_minor</span><span class="p">(</span><span class="n">ctx</span><span class="p">),</span>
            <span class="n">_get_version_tag</span><span class="p">(</span><span class="n">ctx</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;ascii&quot;</span><span class="p">))</span>


<span class="k">def</span><span class="w"> </span><span class="nf">_has_backend</span><span class="p">(</span><span class="n">backend</span><span class="p">):</span>
    <span class="n">b_backend</span> <span class="o">=</span> <span class="n">backend</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">_iio_has_backend</span><span class="p">(</span><span class="n">b_backend</span><span class="p">)</span>


<span class="k">def</span><span class="w"> </span><span class="nf">iio_strerror</span><span class="p">(</span><span class="n">err</span><span class="p">,</span> <span class="n">buf</span><span class="p">,</span> <span class="n">length</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a string description of an error code.&quot;&quot;&quot;</span>
    <span class="n">b_buf</span> <span class="o">=</span> <span class="n">buf</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
    <span class="n">_iio_strerror</span><span class="p">(</span><span class="n">err</span><span class="p">,</span> <span class="n">b_buf</span><span class="p">,</span> <span class="n">length</span><span class="p">)</span>


<span class="n">version</span> <span class="o">=</span> <span class="n">_get_lib_version</span><span class="p">()</span>
<span class="n">backends</span> <span class="o">=</span> <span class="p">[</span><span class="n">_get_backend</span><span class="p">(</span><span class="n">b</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;ascii&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">_get_backends_count</span><span class="p">())]</span>


<span class="k">class</span><span class="w"> </span><span class="nc">_IIO_Object</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hdl</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_hdl</span> <span class="o">=</span> <span class="n">hdl</span>

        <span class="c1"># Hold a reference to the parent object, to ensure that every IIO object</span>
        <span class="c1"># is destroyed before its parent.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span> <span class="o">=</span> <span class="n">parent</span> <span class="k">if</span> <span class="n">parent</span> <span class="k">else</span> <span class="kc">None</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_hdl</span><span class="p">,</span> <span class="n">c_void_p</span><span class="p">)</span><span class="o">.</span><span class="n">value</span> <span class="o">==</span> <span class="n">cast</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">_hdl</span><span class="p">,</span> <span class="n">c_void_p</span><span class="p">)</span><span class="o">.</span><span class="n">value</span>


<span class="k">class</span><span class="w"> </span><span class="nc">Attr</span><span class="p">(</span><span class="n">_IIO_Object</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Represents an attribute.&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">attr</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialize a new instance of the Attr class.</span>

<span class="sd">        :param attr: type=_AttrPtr</span>
<span class="sd">            Pointer to an IIO attribute.</span>

<span class="sd">        returns: type=iio.Attr</span>
<span class="sd">            A new instance of this class</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_attr</span> <span class="o">=</span> <span class="n">attr</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="n">_a_get_name</span><span class="p">(</span><span class="n">attr</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;ascii&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_filename</span> <span class="o">=</span> <span class="n">_a_get_fname</span><span class="p">(</span><span class="n">attr</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;ascii&quot;</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_attr</span><span class="p">,</span> <span class="n">parent</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_read</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">buf</span> <span class="o">=</span> <span class="n">create_string_buffer</span><span class="p">(</span><span class="mi">4096</span><span class="p">)</span>
        <span class="n">_a_read</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_attr</span><span class="p">,</span> <span class="n">buf</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">buf</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">buf</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;ascii&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="n">_a_write</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_attr</span><span class="p">,</span> <span class="n">value</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;ascii&quot;</span><span class="p">))</span>

    <span class="n">name</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span>
        <span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;The name of this attribute.</span><span class="se">\n\t</span><span class="s2">type=str&quot;</span>
    <span class="p">)</span>

    <span class="n">filename</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span>
        <span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_filename</span><span class="p">,</span>
        <span class="kc">None</span><span class="p">,</span>
        <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;The filename in sysfs to which this attribute is bound.</span><span class="se">\n\t</span><span class="s2">type=str&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">value</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span>
        <span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read</span><span class="p">(),</span>
        <span class="k">lambda</span> <span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="n">x</span><span class="p">),</span>
        <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;Current value of this attribute.</span><span class="se">\n\t</span><span class="s2">type=str&quot;</span><span class="p">,</span>
    <span class="p">)</span>

<span class="k">class</span><span class="w"> </span><span class="nc">ChannelsMask</span><span class="p">(</span><span class="n">_IIO_Object</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A bitmask where each bit corresponds to an enabled channel.&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dev</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_dev</span> <span class="o">=</span> <span class="n">dev</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_channels</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_mask</span> <span class="o">=</span> <span class="n">_create_channels_mask</span><span class="p">(</span><span class="n">_channels_count</span><span class="p">(</span><span class="n">dev</span><span class="o">.</span><span class="n">_device</span><span class="p">))</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">ChannelsMask</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_mask</span><span class="p">,</span> <span class="n">dev</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__del__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">_channels_mask_destroy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_mask</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_set_channels</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channels</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">chn</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dev</span><span class="o">.</span><span class="n">channels</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">chn</span> <span class="ow">in</span> <span class="n">channels</span><span class="p">:</span>
                <span class="n">_c_enable</span><span class="p">(</span><span class="n">chn</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mask</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">_c_disable</span><span class="p">(</span><span class="n">chn</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mask</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_channels</span> <span class="o">=</span> <span class="n">channels</span>

    <span class="n">channels</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span>
            <span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_channels</span><span class="p">,</span>
            <span class="n">_set_channels</span><span class="p">,</span>
            <span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;List of enabled channels&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">sample_size</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the sample size of the current channels mask.</span>
<span class="sd">        type: int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_get_sample_size</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_dev</span><span class="o">.</span><span class="n">_device</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mask</span><span class="p">)</span>


<div class="viewcode-block" id="Channel">
<a class="viewcode-back" href="../channel.html#iio.Channel">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Channel</span><span class="p">(</span><span class="n">_IIO_Object</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Represents a channel of an IIO device.&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dev</span><span class="p">,</span> <span class="n">_channel</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialize a new instance of the Channel class.</span>

<span class="sd">        :param _channel: type=_ChannelPtr</span>
<span class="sd">            Pointer to an IIO Channel.</span>

<span class="sd">        returns: type=iio.Channel</span>
<span class="sd">            An new instance of this class</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_channel</span> <span class="o">=</span> <span class="n">_channel</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Channel</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="n">dev</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_id</span> <span class="o">=</span> <span class="n">_c_get_id</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;ascii&quot;</span><span class="p">)</span>

        <span class="n">name_raw</span> <span class="o">=</span> <span class="n">_c_get_name</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="n">name_raw</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;ascii&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="n">name_raw</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_output</span> <span class="o">=</span> <span class="n">_c_is_output</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_scan_element</span> <span class="o">=</span> <span class="n">_c_is_scan_element</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">)</span>

        <span class="n">label_raw</span> <span class="o">=</span> <span class="n">_c_get_label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="n">label_raw</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;ascii&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="n">label_raw</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>

<div class="viewcode-block" id="Channel.read">
<a class="viewcode-back" href="../channel.html#iio.Channel.read">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">read</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">block</span><span class="p">,</span> <span class="n">raw</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Extract the samples corresponding to this channel from the given iio.Block object.</span>

<span class="sd">        :param block: type=iio.Block</span>
<span class="sd">            A valid instance of the iio.Block class</span>
<span class="sd">        :param raw: type=bool</span>
<span class="sd">            If set to True, the samples are not converted from their</span>
<span class="sd">            native format to their host format</span>

<span class="sd">        returns: type=bytearray</span>
<span class="sd">            An array containing the samples for this channel</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">array</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">block</span><span class="p">))</span>
        <span class="n">mytype</span> <span class="o">=</span> <span class="n">c_char</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">array</span><span class="p">)</span>
        <span class="n">c_array</span> <span class="o">=</span> <span class="n">mytype</span><span class="o">.</span><span class="n">from_buffer</span><span class="p">(</span><span class="n">array</span><span class="p">)</span>
        <span class="n">length</span> <span class="o">=</span> <span class="n">_c_read</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="n">block</span><span class="o">.</span><span class="n">_block</span><span class="p">,</span> <span class="n">c_array</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">array</span><span class="p">),</span> <span class="n">raw</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">array</span><span class="p">[:</span><span class="n">length</span><span class="p">]</span></div>


<div class="viewcode-block" id="Channel.write">
<a class="viewcode-back" href="../channel.html#iio.Channel.write">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">block</span><span class="p">,</span> <span class="n">array</span><span class="p">,</span> <span class="n">raw</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Write the specified array of samples corresponding to this channel into the given iio.Block object.</span>

<span class="sd">        :param buf: type=iio.Block</span>
<span class="sd">            A valid instance of the iio.Block class</span>
<span class="sd">        :param array: type=bytearray</span>
<span class="sd">            The array containing the samples to copy</span>
<span class="sd">        :param raw: type=bool</span>
<span class="sd">            If set to True, the samples are not converted from their</span>
<span class="sd">            host format to their native format</span>

<span class="sd">        returns: type=int</span>
<span class="sd">            The number of bytes written</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">mytype</span> <span class="o">=</span> <span class="n">c_char</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">array</span><span class="p">)</span>
        <span class="n">c_array</span> <span class="o">=</span> <span class="n">mytype</span><span class="o">.</span><span class="n">from_buffer</span><span class="p">(</span><span class="n">array</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">_c_write</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="n">block</span><span class="o">.</span><span class="n">_block</span><span class="p">,</span> <span class="n">c_array</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">array</span><span class="p">),</span> <span class="n">raw</span><span class="p">)</span></div>


    <span class="nb">id</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span>
        <span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_id</span><span class="p">,</span>
        <span class="kc">None</span><span class="p">,</span>
        <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;An identifier of this channel.</span><span class="se">\n\t</span><span class="s2">Note that it is possible that two channels have the same ID, if one is an input channel and the other is an output channel.</span><span class="se">\n\t</span><span class="s2">type=str&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">name</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span>
        <span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;The name of this channel.</span><span class="se">\n\t</span><span class="s2">type=str&quot;</span>
    <span class="p">)</span>
    <span class="n">label</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span>
        <span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_label</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;The label of this channel.</span><span class="se">\n\t</span><span class="s2">type=str&quot;</span>
    <span class="p">)</span>
    <span class="n">attrs</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span>
        <span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="p">{</span><span class="n">attr</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="n">attr</span> <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="n">Attr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_c_get_attr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="n">x</span><span class="p">))</span>
            <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">_c_attr_count</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">))</span>
        <span class="p">]},</span>
        <span class="kc">None</span><span class="p">,</span>
        <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;List of attributes for this channel.</span><span class="se">\n\t</span><span class="s2">type=dict of iio.Attr&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">output</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span>
        <span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_output</span><span class="p">,</span>
        <span class="kc">None</span><span class="p">,</span>
        <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;Contains True if the channel is an output channel, False otherwise.</span><span class="se">\n\t</span><span class="s2">type=bool&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">scan_element</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span>
        <span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scan_element</span><span class="p">,</span>
        <span class="kc">None</span><span class="p">,</span>
        <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;Contains True if the channel is a scan element, False otherwise.</span><span class="se">\n\t</span><span class="s2">If a channel is a scan element, then it is possible to enable it and use it for I/O operations.</span><span class="se">\n\t</span><span class="s2">type=bool&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">device</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Corresponding device for the channel.</span>
<span class="sd">        type: iio.Device</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">index</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Index for the channel.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_channel_get_index</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">data_format</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Channel data format.</span>
<span class="sd">        type: iio.DataFormat</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_channel_get_data_format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">)</span><span class="o">.</span><span class="n">contents</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">modifier</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Channel modifier.</span>
<span class="sd">        type: iio.ChannelModifier(Enum)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ChannelModifier</span><span class="p">(</span><span class="n">_channel_get_modifier</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">))</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">type</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Type for the channel.</span>
<span class="sd">        type: iio.ChannelType(Enum)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ChannelType</span><span class="p">(</span><span class="n">_channel_get_type</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">))</span></div>



<span class="k">class</span><span class="w"> </span><span class="nc">Block</span><span class="p">(</span><span class="n">_IIO_Object</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Represents a contiguous block of samples.&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">buffer</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">_block</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialize a new instance of the Block class.</span>

<span class="sd">        :param buffer: type=iio.Buffer</span>
<span class="sd">            The iio.Buffer object that represents the hardware buffer where</span>
<span class="sd">            the samples will be enqueued to or dequeued from</span>
<span class="sd">        :param size: type=int</span>
<span class="sd">            The size of the block, in bytes</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_block_created</span> <span class="o">=</span> <span class="n">_block</span> <span class="ow">is</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="n">_block</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_block</span> <span class="o">=</span> <span class="n">_block</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_block</span> <span class="o">=</span> <span class="n">_create_block</span><span class="p">(</span><span class="n">buffer</span><span class="o">.</span><span class="n">_buffer</span><span class="p">,</span> <span class="n">size</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_block</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="k">raise</span>

        <span class="nb">super</span><span class="p">(</span><span class="n">Block</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_block</span><span class="p">,</span> <span class="n">buffer</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_size</span> <span class="o">=</span> <span class="n">size</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">enqueued</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__del__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Destroy this block.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_block</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_block_created</span><span class="p">:</span>
            <span class="n">_block_destroy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_block</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Size of this buffer, in bytes.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_size</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">enqueue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">cyclic</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_block_created</span><span class="p">:</span>
            <span class="k">raise</span>

        <span class="n">_block_enqueue</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_block</span><span class="p">,</span> <span class="n">size</span> <span class="k">if</span> <span class="n">size</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">_size</span><span class="p">,</span> <span class="n">cyclic</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">enqueued</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">dequeue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nonblock</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_block_created</span><span class="p">:</span>
            <span class="k">raise</span>

        <span class="n">_block_dequeue</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_block</span><span class="p">,</span> <span class="n">nonblock</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">enqueued</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">read</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieve the samples contained inside the Block object.</span>

<span class="sd">        returns: type=bytearray</span>
<span class="sd">            An array containing the samples</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">enqueued</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">OSError</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="s2">&quot;Cannot read an enqueued block.&quot;</span><span class="p">)</span>

        <span class="n">start</span> <span class="o">=</span> <span class="n">_block_start</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_block</span><span class="p">)</span>
        <span class="n">end</span> <span class="o">=</span> <span class="n">_block_end</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_block</span><span class="p">)</span>
        <span class="n">array</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="n">end</span> <span class="o">-</span> <span class="n">start</span><span class="p">)</span>
        <span class="n">mytype</span> <span class="o">=</span> <span class="n">c_char</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">array</span><span class="p">)</span>
        <span class="n">c_array</span> <span class="o">=</span> <span class="n">mytype</span><span class="o">.</span><span class="n">from_buffer</span><span class="p">(</span><span class="n">array</span><span class="p">)</span>
        <span class="n">_memmove</span><span class="p">(</span><span class="n">c_array</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">array</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">array</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">array</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Copy the given array of samples inside the Block object.</span>

<span class="sd">        :param array: type=bytearray</span>
<span class="sd">                The array containing the samples to copy</span>

<span class="sd">        returns: type=int</span>
<span class="sd">            The number of bytes written into the buffer</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">enqueued</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">OSError</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="s2">&quot;Cannot write an enqueued block.&quot;</span><span class="p">)</span>

        <span class="n">start</span> <span class="o">=</span> <span class="n">_block_start</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_block</span><span class="p">)</span>
        <span class="n">end</span> <span class="o">=</span> <span class="n">_block_end</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_block</span><span class="p">)</span>
        <span class="n">length</span> <span class="o">=</span> <span class="n">end</span> <span class="o">-</span> <span class="n">start</span>
        <span class="k">if</span> <span class="n">length</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">array</span><span class="p">):</span>
            <span class="n">length</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">array</span><span class="p">)</span>
        <span class="n">mytype</span> <span class="o">=</span> <span class="n">c_char</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">array</span><span class="p">)</span>
        <span class="n">c_array</span> <span class="o">=</span> <span class="n">mytype</span><span class="o">.</span><span class="n">from_buffer</span><span class="p">(</span><span class="n">array</span><span class="p">)</span>
        <span class="n">_memmove</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">c_array</span><span class="p">,</span> <span class="n">length</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">length</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">buffer</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Buffer corresponding to this block object.</span>
<span class="sd">        type: iio.Buffer</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span>


<div class="viewcode-block" id="Buffer">
<a class="viewcode-back" href="../buffer.html#iio.Buffer">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Buffer</span><span class="p">(</span><span class="n">_IIO_Object</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Represents a hardware I/O buffer.&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">device</span><span class="p">,</span> <span class="n">mask</span><span class="p">,</span> <span class="n">params</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialize a new instance of the Buffer class.</span>

<span class="sd">        :param device: type=iio.Device</span>
<span class="sd">            The iio.Device object that represents the device where the I/O</span>
<span class="sd">            operations will be performed</span>
<span class="sd">        :param mask: type=ChannelsMask</span>
<span class="sd">            The mask of enabled channels</span>
<span class="sd">        :param idx: type=int</span>
<span class="sd">            The hardware index of the buffer to use. If unsure, leave it to 0</span>

<span class="sd">        returns: type=iio.Buffer</span>
<span class="sd">            An new instance of this class</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_buffer</span> <span class="o">=</span> <span class="n">_create_buffer</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">_device</span><span class="p">,</span> <span class="n">params</span><span class="o">.</span><span class="n">_params</span><span class="p">,</span> <span class="n">mask</span><span class="o">.</span><span class="n">_mask</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_buffer</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">raise</span>

        <span class="nb">super</span><span class="p">(</span><span class="n">Buffer</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_buffer</span><span class="p">,</span> <span class="n">device</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_idx</span> <span class="o">=</span> <span class="n">idx</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_enabled</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__del__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Destroy this buffer.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buffer</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">_buffer_destroy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_buffer</span><span class="p">)</span>

<div class="viewcode-block" id="Buffer.cancel">
<a class="viewcode-back" href="../buffer.html#iio.Buffer.cancel">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">cancel</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Cancel the current buffer.&quot;&quot;&quot;</span>
        <span class="n">_buffer_cancel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_buffer</span><span class="p">)</span></div>


    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">device</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Device for the buffer.</span>
<span class="sd">        type: iio.Device</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_set_enabled</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">enabled</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">enabled</span><span class="p">:</span>
            <span class="n">_buffer_enable</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_buffer</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">_buffer_disable</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_buffer</span><span class="p">)</span>

    <span class="n">enabled</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span>
            <span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_enabled</span><span class="p">,</span>
            <span class="n">_set_enabled</span><span class="p">,</span>
            <span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;Represents the state (enabled/disabled) of the hardware buffer.&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">attrs</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span>
        <span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="p">{</span><span class="n">attr</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="n">attr</span> <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="n">Attr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_b_get_attr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_buffer</span><span class="p">,</span> <span class="n">x</span><span class="p">))</span>
            <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">_b_attr_count</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_buffer</span><span class="p">))</span>
        <span class="p">]},</span>
        <span class="kc">None</span><span class="p">,</span>
        <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;List of attributes for this buffer.</span><span class="se">\n\t</span><span class="s2">type=dict of iio.Attr&quot;</span><span class="p">,</span>
    <span class="p">)</span></div>



<span class="k">class</span><span class="w"> </span><span class="nc">Stream</span><span class="p">(</span><span class="n">_IIO_Object</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">buffer</span><span class="p">,</span> <span class="n">samples_count</span><span class="p">,</span> <span class="n">nb_blocks</span> <span class="o">=</span> <span class="mi">4</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_stream</span> <span class="o">=</span> <span class="n">_create_stream</span><span class="p">(</span><span class="n">buffer</span><span class="o">.</span><span class="n">_buffer</span><span class="p">,</span> <span class="n">nb_blocks</span><span class="p">,</span> <span class="n">samples_count</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_stream</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">raise</span>

        <span class="nb">super</span><span class="p">(</span><span class="n">Stream</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_stream</span><span class="p">,</span> <span class="n">buffer</span><span class="p">)</span>

        <span class="n">mask_hdl</span> <span class="o">=</span> <span class="n">_buffer_get_channels_mask</span><span class="p">(</span><span class="n">buffer</span><span class="o">.</span><span class="n">_buffer</span><span class="p">)</span>
        <span class="n">sample_size</span> <span class="o">=</span> <span class="n">_get_sample_size</span><span class="p">(</span><span class="n">buffer</span><span class="o">.</span><span class="n">device</span><span class="o">.</span><span class="n">_device</span><span class="p">,</span> <span class="n">mask_hdl</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_block_size</span> <span class="o">=</span> <span class="n">sample_size</span> <span class="o">*</span> <span class="n">samples_count</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_buffer</span> <span class="o">=</span> <span class="n">buffer</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__del__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">_stream_destroy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_stream</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__next__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">next_hdl</span> <span class="o">=</span> <span class="n">_stream_get_next_block</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_stream</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">Block</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_buffer</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_block_size</span><span class="p">,</span> <span class="n">next_hdl</span><span class="p">)</span>


<span class="k">class</span><span class="w"> </span><span class="nc">EventStream</span><span class="p">(</span><span class="n">_IIO_Object</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Class used to read IIO events. Cannot be instantiated directly.&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Prevent the EventStream from being initialized manually.</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_create</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">device</span><span class="p">,</span> <span class="n">stream</span><span class="p">):</span>
        <span class="bp">self</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">EventStream</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">stream</span><span class="p">,</span> <span class="n">device</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">read</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nonblock</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Read one event from the stream.</span>

<span class="sd">        :param nonblock: type=bool</span>
<span class="sd">            If set, return None if there are no events in the stream.</span>
<span class="sd">            If unset, it will wait until an event arrives.</span>

<span class="sd">        returns: type=(iio.Event, (iio.Channel, iio.Channel))</span>
<span class="sd">            The first element of the tuple is the Event read.</span>
<span class="sd">            The second element is a tuple itself, that contains the</span>
<span class="sd">            two channels related to the event. For non-differential</span>
<span class="sd">            events the second channel will always be None.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">event</span> <span class="o">=</span> <span class="n">Event</span><span class="p">()</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">_evstream_read</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_hdl</span><span class="p">,</span> <span class="n">_byref</span><span class="p">(</span><span class="n">event</span><span class="p">),</span> <span class="n">nonblock</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">OSError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">err</span><span class="o">.</span><span class="n">errno</span> <span class="o">==</span> <span class="mi">11</span><span class="p">:</span>  <span class="c1"># EAGAIN</span>
                <span class="k">return</span> <span class="kc">None</span>

            <span class="k">raise</span>

        <span class="n">chn1</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">chn2</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">dev</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span>
            <span class="n">chn1</span> <span class="o">=</span> <span class="n">Channel</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">_ev_get_channel</span><span class="p">(</span><span class="n">_byref</span><span class="p">(</span><span class="n">event</span><span class="p">),</span> <span class="n">dev</span><span class="o">.</span><span class="n">_device</span><span class="p">,</span> <span class="kc">False</span><span class="p">))</span>
            <span class="n">chn2</span> <span class="o">=</span> <span class="n">Channel</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">_ev_get_channel</span><span class="p">(</span><span class="n">_byref</span><span class="p">(</span><span class="n">event</span><span class="p">),</span> <span class="n">dev</span><span class="o">.</span><span class="n">_device</span><span class="p">,</span> <span class="kc">True</span><span class="p">))</span>
        <span class="k">except</span> <span class="ne">OSError</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="k">return</span> <span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="p">(</span><span class="n">chn1</span><span class="p">,</span> <span class="n">chn2</span><span class="p">))</span>

<span class="k">class</span><span class="w"> </span><span class="nc">_DeviceOrTrigger</span><span class="p">(</span><span class="n">_IIO_Object</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_ctx</span><span class="p">,</span> <span class="n">_device</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">_DeviceOrTrigger</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">_device</span><span class="p">,</span> <span class="n">_ctx</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_device</span> <span class="o">=</span> <span class="n">_device</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_context</span> <span class="o">=</span> <span class="n">_d_get_context</span><span class="p">(</span><span class="n">_device</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_id</span> <span class="o">=</span> <span class="n">_d_get_id</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_device</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;ascii&quot;</span><span class="p">)</span>

        <span class="n">name_raw</span> <span class="o">=</span> <span class="n">_d_get_name</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_device</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="n">name_raw</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;ascii&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="n">name_raw</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>

        <span class="n">label_raw</span> <span class="o">=</span> <span class="n">_d_get_label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_device</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_label</span> <span class="o">=</span> <span class="n">label_raw</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;ascii&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="n">label_raw</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">reg_write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reg</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set a value to one register of this device.</span>

<span class="sd">        :param reg: type=int</span>
<span class="sd">            The register address</span>
<span class="sd">        :param value: type=int</span>
<span class="sd">            The value that will be used for this register</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">_d_reg_write</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_device</span><span class="p">,</span> <span class="n">reg</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">reg_read</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reg</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Read the content of a register of this device.</span>

<span class="sd">        :param reg: type=int</span>
<span class="sd">            The register address</span>

<span class="sd">        returns: type=int</span>
<span class="sd">            The value of the register</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">c_uint</span><span class="p">()</span>
        <span class="n">_d_reg_read</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_device</span><span class="p">,</span> <span class="n">reg</span><span class="p">,</span> <span class="n">_byref</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">value</span><span class="o">.</span><span class="n">value</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">find_channel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name_or_id</span><span class="p">,</span> <span class="n">is_output</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        Find a IIO channel by its name or ID.</span>

<span class="sd">        :param name_or_id: type=str</span>
<span class="sd">            The name or ID of the channel to find</span>
<span class="sd">        :param is_output: type=bool</span>
<span class="sd">            Set to True to search for an output channel</span>

<span class="sd">        returns: type=iio.Device or type=iio.Trigger</span>
<span class="sd">            The IIO Device</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">chn</span> <span class="o">=</span> <span class="n">_d_find_channel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_device</span><span class="p">,</span> <span class="n">name_or_id</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;ascii&quot;</span><span class="p">),</span> <span class="n">is_output</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span> <span class="k">if</span> <span class="nb">bool</span><span class="p">(</span><span class="n">chn</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">False</span> <span class="k">else</span> <span class="n">Channel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chn</span><span class="p">)</span>

    <span class="nb">id</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span>
        <span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_id</span><span class="p">,</span>
        <span class="kc">None</span><span class="p">,</span>
        <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;An identifier of this device, only valid in this IIO context.</span><span class="se">\n\t</span><span class="s2">type=str&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">name</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span>
        <span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;The name of this device.</span><span class="se">\n\t</span><span class="s2">type=str&quot;</span>
    <span class="p">)</span>
    <span class="n">label</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span>
        <span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_label</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;The label of this device.</span><span class="se">\n\t</span><span class="s2">type=str&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">attrs</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span>
        <span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="p">{</span><span class="n">attr</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="n">attr</span> <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="n">Attr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_d_get_attr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_device</span><span class="p">,</span> <span class="n">x</span><span class="p">))</span>
            <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">_d_attr_count</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_device</span><span class="p">))</span>
        <span class="p">]},</span>
        <span class="kc">None</span><span class="p">,</span>
        <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;List of attributes for this IIO device.</span><span class="se">\n\t</span><span class="s2">type=dict of iio.Attr&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">debug_attrs</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span>
        <span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="p">{</span><span class="n">attr</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="n">attr</span> <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="n">Attr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_d_get_debug_attr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_device</span><span class="p">,</span> <span class="n">x</span><span class="p">))</span>
            <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">_d_debug_attr_count</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_device</span><span class="p">))</span>
        <span class="p">]},</span>
        <span class="kc">None</span><span class="p">,</span>
        <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;List of debug attributes for this IIO device.</span><span class="se">\n\t</span><span class="s2">type=dict of iio.Attr&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">channels</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span>
        <span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="nb">sorted</span><span class="p">([</span>
            <span class="n">Channel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_get_channel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_device</span><span class="p">,</span> <span class="n">x</span><span class="p">))</span>
            <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">_channels_count</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_device</span><span class="p">))</span>
        <span class="p">],</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">c</span><span class="p">:</span> <span class="n">c</span><span class="o">.</span><span class="n">id</span><span class="p">),</span>
        <span class="kc">None</span><span class="p">,</span>
        <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;List of channels available with this IIO device.</span><span class="se">\n\t</span><span class="s2">type=list of iio.Channel objects&quot;</span><span class="p">,</span>
    <span class="p">)</span>


<div class="viewcode-block" id="Trigger">
<a class="viewcode-back" href="../trigger.html#iio.Trigger">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Trigger</span><span class="p">(</span><span class="n">_DeviceOrTrigger</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Contains the representation of an IIO device that can act as a trigger.&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ctx</span><span class="p">,</span> <span class="n">_device</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialize a new instance of the Trigger class.</span>

<span class="sd">        :param _device: type=iio._DevicePtr</span>
<span class="sd">            A pointer to an IIO device.</span>

<span class="sd">        returns: type=iio.Trigger</span>
<span class="sd">            An new instance of this class</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Trigger</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">_device</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_get_rate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;sampling_frequency&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_set_rate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;sampling_frequency&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

    <span class="n">frequency</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span>
        <span class="n">_get_rate</span><span class="p">,</span>
        <span class="n">_set_rate</span><span class="p">,</span>
        <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;Configured frequency (in Hz) of this trigger</span><span class="se">\n\t</span><span class="s2">type=int&quot;</span><span class="p">,</span>
    <span class="p">)</span></div>



<div class="viewcode-block" id="Device">
<a class="viewcode-back" href="../device.html#iio.Device">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Device</span><span class="p">(</span><span class="n">_DeviceOrTrigger</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Contains the representation of an IIO device.&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ctx</span><span class="p">,</span> <span class="n">_device</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialize a new instance of the Device class.</span>

<span class="sd">        :param ctx: type=iio.Context</span>
<span class="sd">            A valid instance of the iio.Context class.</span>
<span class="sd">        :param _device: type=_DevicePtr</span>
<span class="sd">            A pointer to an IIO device.</span>

<span class="sd">        returns: type=iio.Device</span>
<span class="sd">            An new instance of this class</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Device</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">_device</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ctx</span> <span class="o">=</span> <span class="n">ctx</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_set_trigger</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">trigger</span><span class="p">):</span>
        <span class="n">_d_set_trigger</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_device</span><span class="p">,</span> <span class="n">trigger</span><span class="o">.</span><span class="n">_device</span> <span class="k">if</span> <span class="n">trigger</span> <span class="k">else</span> <span class="kc">None</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_get_trigger</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">_DevicePtr</span><span class="p">()</span>
        <span class="n">_d_get_trigger</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_device</span><span class="p">,</span> <span class="n">_byref</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
        <span class="n">trig</span> <span class="o">=</span> <span class="n">Trigger</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ctx</span><span class="p">,</span> <span class="n">value</span><span class="o">.</span><span class="n">contents</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">dev</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">ctx</span><span class="o">.</span><span class="n">devices</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">trig</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">dev</span><span class="o">.</span><span class="n">id</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">dev</span>
        <span class="k">return</span> <span class="kc">None</span>

<div class="viewcode-block" id="Device.event_stream">
<a class="viewcode-back" href="../device.html#iio.Device.event_stream">[docs]</a>
    <span class="nd">@contextmanager</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">event_stream</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create an events stream.</span>

<span class="sd">        returns: type=contextlib._GeneratorContextManager</span>
<span class="sd">            A generator for a EventStream instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">stream</span> <span class="o">=</span> <span class="n">_d_create_evstream</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_device</span><span class="p">)</span>
            <span class="k">yield</span> <span class="n">EventStream</span><span class="o">.</span><span class="n">_create</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="p">)</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="n">_evstream_destroy</span><span class="p">(</span><span class="n">stream</span><span class="p">)</span></div>


    <span class="n">trigger</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span>
        <span class="n">_get_trigger</span><span class="p">,</span>
        <span class="n">_set_trigger</span><span class="p">,</span>
        <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;Contains the configured trigger for this IIO device.</span><span class="se">\n\t</span><span class="s2">type=iio.Trigger&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">hwmon</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span>
        <span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_id</span><span class="p">[:</span><span class="mi">5</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;hwmon&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;Contains True if the device is a hardware-monitoring device, False if it is a IIO device.</span><span class="se">\n\t</span><span class="s2">type=bool&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">context</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Context for the device.</span>
<span class="sd">        type: iio.Context</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">ctx</span></div>



<div class="viewcode-block" id="Context">
<a class="viewcode-back" href="../context.html#iio.Context">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Context</span><span class="p">(</span><span class="n">_IIO_Object</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Contains the representation of an IIO context.&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_context</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialize a new instance of the Context class, using the local or the network backend of the IIO library.</span>

<span class="sd">        returns: type=iio.Context</span>
<span class="sd">            An new instance of this class</span>

<span class="sd">        This function will create a network context if the IIOD_REMOTE</span>
<span class="sd">        environment variable is set to the hostname where the IIOD server runs.</span>
<span class="sd">        If set to an empty string, the server will be discovered using ZeroConf.</span>
<span class="sd">        If the environment variable is not set, a local context will be created instead.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_context</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="n">_context</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">_isstring</span><span class="p">(</span><span class="n">_context</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_context</span> <span class="o">=</span> <span class="n">_context</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">uri</span> <span class="o">=</span> <span class="kc">None</span> <span class="k">if</span> <span class="n">_context</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">_context</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;ascii&quot;</span><span class="p">)</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_context</span> <span class="o">=</span> <span class="n">_new_ctx</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">uri</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_context</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="k">raise</span>

        <span class="nb">super</span><span class="p">(</span><span class="n">Context</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_context</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="n">_get_name</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_context</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;ascii&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_description</span> <span class="o">=</span> <span class="n">_get_description</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_context</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;ascii&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_xml_hdl</span> <span class="o">=</span> <span class="n">_get_xml</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_context</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_xml</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">string_at</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_xml_hdl</span><span class="p">))</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;ascii&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_version</span> <span class="o">=</span> <span class="n">_get_lib_version</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_context</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__del__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Destroy this context.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_context</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">_destroy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_context</span><span class="p">)</span>
            <span class="n">_libc_free</span><span class="p">(</span><span class="n">cast</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_xml_hdl</span><span class="p">,</span> <span class="n">c_void_p</span><span class="p">))</span>

<div class="viewcode-block" id="Context.set_timeout">
<a class="viewcode-back" href="../context.html#iio.Context.set_timeout">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">set_timeout</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set a timeout for I/O operations.</span>

<span class="sd">        :param timeout: type=int</span>
<span class="sd">            The timeout value, in milliseconds</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">_set_timeout</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_context</span><span class="p">,</span> <span class="n">timeout</span><span class="p">)</span></div>


<div class="viewcode-block" id="Context.find_device">
<a class="viewcode-back" href="../context.html#iio.Context.find_device">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">find_device</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name_or_id_or_label</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        Find a IIO device by its name, ID or label.</span>

<span class="sd">        :param name_or_id_or_label: type=str</span>
<span class="sd">            The name, ID or label of the device to find</span>

<span class="sd">        returns: type=iio.Device or type=iio.Trigger</span>
<span class="sd">            The IIO Device</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">dev</span> <span class="o">=</span> <span class="n">_find_device</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_context</span><span class="p">,</span> <span class="n">name_or_id_or_label</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;ascii&quot;</span><span class="p">))</span>
        <span class="k">return</span> <span class="kc">None</span> <span class="k">if</span> <span class="nb">bool</span><span class="p">(</span><span class="n">dev</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">False</span> <span class="k">else</span> <span class="n">Trigger</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dev</span><span class="p">)</span> <span class="k">if</span> <span class="n">_d_is_trigger</span><span class="p">(</span><span class="n">dev</span><span class="p">)</span> <span class="k">else</span> <span class="n">Device</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dev</span><span class="p">)</span></div>


    <span class="n">name</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span>
        <span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;Name of this IIO context.</span><span class="se">\n\t</span><span class="s2">type=str&quot;</span>
    <span class="p">)</span>
    <span class="n">description</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span>
        <span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_description</span><span class="p">,</span>
        <span class="kc">None</span><span class="p">,</span>
        <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;Description of this IIO context.</span><span class="se">\n\t</span><span class="s2">type=str&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">xml</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span>
        <span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xml</span><span class="p">,</span>
        <span class="kc">None</span><span class="p">,</span>
        <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;XML representation of the current context.</span><span class="se">\n\t</span><span class="s2">type=str&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">version</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span>
        <span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_version</span><span class="p">,</span>
        <span class="kc">None</span><span class="p">,</span>
        <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;Version of the backend.</span><span class="se">\n\t</span><span class="s2">type=(int, int, str)&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">attrs</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span>
        <span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="p">{</span><span class="n">attr</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="n">attr</span><span class="o">.</span><span class="n">value</span> <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="n">Attr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_get_attr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_context</span><span class="p">,</span> <span class="n">x</span><span class="p">))</span>
            <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">_get_attrs_count</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_context</span><span class="p">))</span>
        <span class="p">]},</span>
        <span class="kc">None</span><span class="p">,</span>
        <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;List of context-specific attributes</span><span class="se">\n\t</span><span class="s2">type=dict of iio.Attr&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">devices</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span>
        <span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="p">[</span>
            <span class="n">Trigger</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dev</span><span class="p">)</span> <span class="k">if</span> <span class="n">_d_is_trigger</span><span class="p">(</span><span class="n">dev</span><span class="p">)</span> <span class="k">else</span> <span class="n">Device</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dev</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">dev</span> <span class="ow">in</span> <span class="p">[</span>
                <span class="n">_get_device</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_context</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">_devices_count</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_context</span><span class="p">))</span>
            <span class="p">]</span>
        <span class="p">],</span>
        <span class="kc">None</span><span class="p">,</span>
        <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;List of devices contained in this context.</span><span class="se">\n\t</span><span class="s2">type=list of iio.Device and iio.Trigger objects&quot;</span><span class="p">,</span>
    <span class="p">)</span></div>



<div class="viewcode-block" id="LocalContext">
<a class="viewcode-back" href="../context.html#iio.LocalContext">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">LocalContext</span><span class="p">(</span><span class="n">Context</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Local IIO Context.&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialize a new instance of the Context class, using the local backend of the IIO library.</span>

<span class="sd">        returns: type=iio.LocalContext</span>
<span class="sd">            An new instance of this class</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ctx</span> <span class="o">=</span> <span class="n">_new_ctx</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;local:&quot;</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">LocalContext</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">ctx</span><span class="p">)</span></div>



<div class="viewcode-block" id="XMLContext">
<a class="viewcode-back" href="../context.html#iio.XMLContext">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">XMLContext</span><span class="p">(</span><span class="n">Context</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;XML IIO Context.&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xmlfile</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialize a new instance of the Context class, using the XML backend of the IIO library.</span>

<span class="sd">        :param xmlfile: type=str</span>
<span class="sd">            Filename of the XML file to build the context from</span>

<span class="sd">        returns: type=iio.XMLContext</span>
<span class="sd">            An new instance of this class</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ctx</span> <span class="o">=</span> <span class="n">_new_ctx</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;xml:&quot;</span> <span class="o">+</span> <span class="n">xmlfile</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;ascii&quot;</span><span class="p">))</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">XMLContext</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">ctx</span><span class="p">)</span></div>



<div class="viewcode-block" id="NetworkContext">
<a class="viewcode-back" href="../context.html#iio.NetworkContext">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">NetworkContext</span><span class="p">(</span><span class="n">Context</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Network IIO Context.&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hostname</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialize a new instance of the Context class, using the network backend of the IIO library.</span>

<span class="sd">        :param hostname: type=str</span>
<span class="sd">            Hostname, IPv4 or IPv6 address where the IIO Daemon is running</span>

<span class="sd">        returns: type=iio.NetworkContext</span>
<span class="sd">            An new instance of this class</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ctx</span> <span class="o">=</span> <span class="n">_new_ctx</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;ip:&quot;</span> <span class="o">+</span> <span class="p">(</span><span class="n">hostname</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;ascii&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="n">hostname</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span><span class="p">))</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">NetworkContext</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">ctx</span><span class="p">)</span></div>



<span class="k">def</span><span class="w"> </span><span class="nf">scan_contexts</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Scan Context.&quot;&quot;&quot;</span>
    <span class="n">scan_ctx</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>

    <span class="n">ctx</span> <span class="o">=</span> <span class="n">_scan</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">ctx_nb</span> <span class="o">=</span> <span class="n">_scan_get_results_count</span><span class="p">(</span><span class="n">ctx</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">ctx_nb</span><span class="p">):</span>
        <span class="n">uri</span> <span class="o">=</span> <span class="n">_scan_get_uri</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;ascii&quot;</span><span class="p">)</span>
        <span class="n">desc</span> <span class="o">=</span> <span class="n">_scan_get_description</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;ascii&quot;</span><span class="p">)</span>
        <span class="n">scan_ctx</span><span class="p">[</span><span class="n">uri</span><span class="p">]</span> <span class="o">=</span> <span class="n">desc</span>

    <span class="n">_scan_destroy</span><span class="p">(</span><span class="n">ctx</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">scan_ctx</span>
</pre></div>

          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">libiio-py</a></h1>








<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../context.html">Contexts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../buffer.html">Buffer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../device.html">Device</a></li>
<li class="toctree-l1"><a class="reference internal" href="../channel.html">Channels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../trigger.html">Trigger</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Examples</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">Module code</a><ul>
  </ul></li>
  </ul></li>
</ul>
</div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2020, Analog Devices, Inc..
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 7.4.7</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
    </div>

    

    
  </body>
</html>