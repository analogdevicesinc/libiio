# Starter pipeline
# Start with a minimal pipeline that you can customize to build and deploy your code.
# Add steps that build, run tests, deploy, and more:
# https://aka.ms/yaml
name: MainPipeline
trigger:
- main
- staging/*

pool:
  vmImage: ubuntu-latest

steps:
- script: |
    # Example: A simple build process that creates a binary or file
    echo "Building a simple binary..."
    echo "This is the content of the binary file" > myapp.bin
    echo "Build complete."
    echo "Trigger the next Pipeline..."
    echo "Oh man - this is nice!"
    echo "Again!"
  displayName: 'Build Binaries'

- task: PublishBuildArtifacts@1
  inputs:
    PathtoPublish: '$(System.DefaultWorkingDirectory)/myapp.bin'
    ArtifactName: 'drop'
    publishLocation: 'Container' # Important: Publish to the default build artifacts container
  displayName: 'Publish Artifacts'
